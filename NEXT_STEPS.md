# üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CI/CD

## ‚úÖ **–ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ:**
- SSH –∫–ª—é—á–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- –ü—É—Ç–∏ –≤ workflow —Ñ–∞–π–ª–∞—Ö –æ–±–Ω–æ–≤–ª–µ–Ω—ã

## üìã **–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å:**

### **1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ GitHub Secrets:**

–ü–µ—Ä–µ–π–¥–∏—Ç–µ: `https://github.com/11pyCodcat11/remdepo_trainz/settings/secrets/actions`

–ù–∞–∂–º–∏—Ç–µ **"New repository secret"** –∏ –¥–æ–±–∞–≤—å—Ç–µ:

#### **SERVER_HOST:**
```
193.106.174.56
```

#### **SERVER_USER:**
```
root
```

#### **SERVER_SSH_KEY:**
```
-----BEGIN OPENSSH PRIVATE KEY-----
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
-----END OPENSSH PRIVATE KEY-----
```

#### **SERVER_PORT:**
```
22
```

### **2. –°–æ–∑–¥–∞–π—Ç–µ systemd service –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
# –°–æ–∑–¥–∞–π—Ç–µ service —Ñ–∞–π–ª
nano /etc/systemd/system/remdepo-bot.service
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:
```ini
[Unit]
Description=RemDepo Telegram Bot
After=network.target

[Service]
Type=simple
User=root
WorkingDirectory=/root/remdepo_bot
Environment=PATH=/root/remdepo_bot/venv/bin
ExecStart=/root/remdepo_bot/venv/bin/python -m bot.main
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ:
```bash
systemctl daemon-reload
systemctl enable remdepo-bot
systemctl start remdepo-bot
```

### **3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä:**

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
mkdir -p /root/remdepo_bot
cd /root/remdepo_bot

# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/11pyCodcat11/remdepo_trainz.git .

# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

## üéØ **–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**

- **Push –≤ main** ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π
- **–†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π** —á–µ—Ä–µ–∑ GitHub Actions
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ë–î** –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞

## ‚úÖ **–ì–æ—Ç–æ–≤–æ!**

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ CI/CD –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏! üöÄ
