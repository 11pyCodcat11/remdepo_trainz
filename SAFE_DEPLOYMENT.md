# üõ°Ô∏è –ë–ï–ó–û–ü–ê–°–ù–´–ô –î–ï–ü–õ–û–ô - –ó–∞—â–∏—Ç–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –í–∞—à–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏!

### üîí **–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∑–∞—â–∏—Ç–∞ –ë–î:**

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø** –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –¥–µ–ø–ª–æ–µ–º
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏** –ë–î –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–∫–∞—Ç** –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
4. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–æ–ø–∏–∏** –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö

### üìã **–ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–ë–ï–ó–û–ü–ê–°–ù–û):**

#### **–®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –±—ç–∫–∞–ø –°–ï–ô–ß–ê–° (–ø–µ—Ä–µ–¥ –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π CI/CD)**
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
cd /path/to/your/remdepo_bot
cp bot.db bot.db.SAFE_BACKUP.$(date +%Y%m%d_%H%M%S)
echo "‚úÖ –ë—ç–∫–∞–ø —Å–æ–∑–¥–∞–Ω: bot.db.SAFE_BACKUP.$(date +%Y%m%d_%H%M%S)"
```

#### **–®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .gitignore –¥–ª—è –ë–î**
```bash
# –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞–π—Ç–µ/–æ–±–Ω–æ–≤–∏—Ç–µ .gitignore:
echo "bot.db" >> .gitignore
echo "bot.db.backup.*" >> .gitignore
echo "*.db" >> .gitignore
```

#### **–®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ GitHub Secrets**
–í GitHub ‚Üí Settings ‚Üí Secrets and variables ‚Üí Actions:
```
SERVER_HOST=your-server-ip
SERVER_USER=your-username  
SERVER_SSH_KEY=your-private-ssh-key
SERVER_PORT=22
```

#### **–®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç–µ –ø—É—Ç–∏ –≤ workflow**
–ó–∞–º–µ–Ω–∏—Ç–µ `/path/to/your/remdepo_bot` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –ø—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É

### üõ°Ô∏è **–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –¥–µ–ø–ª–æ–µ:**

1. **–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞** (graceful)
2. **–°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞** –ë–î —Å timestamp
3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–ø–∏–∏** –≤ `/tmp/remdepo_backups/`
4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞** (–ë–î –ù–ï —Ç—Ä–æ–≥–∞–µ—Ç—Å—è!)
5. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏** –ë–î
6. **–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞** —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ë–î OK
7. **–û—Ç–∫–∞—Ç** –ø—Ä–∏ –ª—é–±—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö

### üîÑ **–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –æ—Ç–∫–∞—Ç–∞ (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥–µ—Ç –Ω–µ —Ç–∞–∫):**

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
sudo systemctl stop remdepo-bot
cp bot.db.backup.YYYYMMDD_HHMMSS bot.db
sudo systemctl start remdepo-bot
```

### üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**

#### **–ü—Ä–æ–≤–µ—Ä–∫–∞ –±—ç–∫–∞–ø–æ–≤:**
```bash
ls -la bot.db.backup.*
ls -la /tmp/remdepo_backups/
```

#### **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î:**
```bash
sqlite3 bot.db "SELECT COUNT(*) FROM users;"
sqlite3 bot.db "SELECT COUNT(*) FROM orders;"
```

#### **–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–æ—Ç–∞:**
```bash
sudo systemctl status remdepo-bot
sudo journalctl -u remdepo-bot -f
```

### üö® **–≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã:**

#### **–ï—Å–ª–∏ –¥–µ–ø–ª–æ–π —Å–ª–æ–º–∞–ª –ë–î:**
```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞
sudo systemctl stop remdepo-bot

# 2. –ù–∞–π—Ç–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π –±—ç–∫–∞–ø
ls -la bot.db.backup.* | tail -1

# 3. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ë–î
cp bot.db.backup.YYYYMMDD_HHMMSS bot.db

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
sudo systemctl start remdepo-bot
```

#### **–ï—Å–ª–∏ –±–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
sudo journalctl -u remdepo-bot -n 50

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ë–î
sqlite3 bot.db ".tables"

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ –±—ç–∫–∞–ø–∞
cp /tmp/remdepo_backups/bot.db.backup.YYYYMMDD_HHMMSS bot.db
```

### ‚úÖ **–ì–∞—Ä–∞–Ω—Ç–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**

- ‚úÖ **–ë–î –ù–ï –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è** –ø—Ä–∏ –¥–µ–ø–ª–æ–µ
- ‚úÖ **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –±—ç–∫–∞–ø—ã** —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏** –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–∫–∞—Ç** –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ /tmp/** –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞

### üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

–í–∞—à–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç **–ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–©–ò–©–ï–ù–ê**:
- –ü—Ä–∏ –∫–∞–∂–¥–æ–º –¥–µ–ø–ª–æ–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –±—ç–∫–∞–ø
- –ë–î –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å
- –ü—Ä–∏ –ª—é–±—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–∫–∞—Ç
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–æ–ø–∏–∏ –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö

**–ú–æ–∂–µ—Ç–µ —Å–º–µ–ª–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å CI/CD - –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏!** üõ°Ô∏è
